<div *ngIf="isLoading == true" style="margin-left: 45%">
    <h1>Loading...</h1>
    <mat-spinner ></mat-spinner>
</div>
<div style="margin: 2em;">

    <div>
        <h2>
            Event List 
            <h4>From 05/19/2022</h4>
        </h2>
    </div>

    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource"  matSort>
            <!-- Event Title -->
            <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
            </ng-container>
            <!-- Link to Event Page -->
            <ng-container matColumnDef="link">
            <th mat-header-cell *matHeaderCellDef> Link </th>
            <td mat-cell *matCellDef="let element"> 
                <a href='{{element.link}}' target="_blank">
                    <mat-icon aria-hidden="false" aria-label="Example home icon">open_in_new</mat-icon>
                </a>
                <span> &nbsp; &nbsp;</span>
            </td>
            </ng-container>
            <!-- Address -->
            <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Address </th>
            <td mat-cell *matCellDef="let element"> {{element.address}} </td>
            </ng-container>
            <!-- Location -->
            <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Location </th>
            <td mat-cell *matCellDef="let element"> {{element.location}} </td>
            </ng-container>
            <!-- Date -->
            <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
            <td mat-cell *matCellDef="let element"> {{element.date}} </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10]"
        showFirstLastButtons 
        aria-label="Select page of periodic elements">
        </mat-paginator>

    </div>

    <div class="mat-elevation-z8">
        <google-map  
            width="100%"
            [center]="center"
            [zoom] = 12
        >
            <map-marker
                #markerElem
                *ngFor="let marker of markers"
                [position]="marker.position"
                [label]="marker.label"
                [title]="marker.title"
                [options]="marker.options"
            >
            </map-marker>            
        </google-map>
    </div>    

</div>
